.catalog:
  name: "SYS"
  version: "0.1"
  description: "System Services"
  uuid: sys
version: '2'
services:
  rancher-cli:
    scale: 1
    start_on_create: true
  foreman:
    scale: 1
    start_on_create: true
  alexandria:
    hostname: alexandria.lab.santech.fr
    start_on_create: true
  zabbix-server:
    scale: 1
    start_on_create: true
  rundeck:
    scale: 1
    start_on_create: true
  janitor:
    start_on_create: true
  zabbix-agent:
    start_on_create: true
    health_check:
      healthy_threshold: 2
      response_timeout: 2000
      port: 10050
      unhealthy_threshold: 3
      initializing_timeout: 30000
      interval: 2000
      strategy: recreate
      reinitializing_timeout: 30000
  openvas:
    scale: 1
    start_on_create: true
  LB:
    scale: 1
    start_on_create: false
    lb_config:
      certs: []
      default_cert: foreman.lab
      port_rules:
      - hostname: zabbix.lab
        priority: 6
        protocol: http
        service: zabbix-server
        source_port: 80
        target_port: 80
      - hostname: dev-interview.lab.santech.fr
        path: ''
        priority: 7
        protocol: http
        service: TEMP-STACK/dev-interview
        source_port: 22123
        target_port: 22
      - hostname: foreman.lab
        path: ''
        priority: 8
        protocol: http
        service: foreman
        source_port: 80
        target_port: 80
      - hostname: sonar.lab
        path: ''
        priority: 10
        protocol: http
        service: sonar
        source_port: 80
        target_port: 9000
      - hostname: run.lab
        path: ''
        priority: 11
        protocol: http
        service: rundeck
        source_port: 80
        target_port: 4440
      - hostname: myp-wordpress-dev.lab.santech.fr
        path: ''
        priority: 12
        protocol: http
        service: myp/wordpress
        source_port: 80
        target_port: 80
      - hostname: ima-mandate-logs.lab.santech.fr
        path: ''
        priority: 13
        protocol: http
        service: ima-mandate-logs/ima-mandate-logs
        source_port: 80
        target_port: 80
      - hostname: kibana.lab
        path: ''
        priority: 14
        protocol: http
        service: kibana
        source_port: 80
        target_port: 5601
      - hostname: openvas.lab
        path: ''
        priority: 15
        protocol: http
        service: openvas
        source_port: 80
        target_port: 443
    health_check:
      healthy_threshold: 2
      response_timeout: 2000
      port: 42
      unhealthy_threshold: 3
      initializing_timeout: 60000
      interval: 2000
      strategy: recreate
      reinitializing_timeout: 60000
